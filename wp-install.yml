---
- name: Setup WordPress on Amazon Linux 2 with Nginx and PHP
  hosts: all
  tasks:

    - name: Install WordPress
      command: >
        wp core install
        --title="New website"
        --admin_user="itt-admin"
        --admin_password="itt@123"
        --admin_email="wp.monitoring.log@gmail.com"
      args:
        chdir: /home/ec2-user/html

    - name: Install WPvivid Backup Plugin
      command: wp plugin install wpvivid-backuprestore --activate
      args:
        chdir: /home/ec2-user/html